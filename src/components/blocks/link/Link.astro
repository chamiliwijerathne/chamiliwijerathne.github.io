---
import { LINK_VARIANTS, linkTypeClassMap } from "./link.constants";
import type { LinkBlock as Props } from "./link.types";

const { url, label, align, classNames, rel, style, targetBlank, variant = LINK_VARIANTS.PRIMARY } = Astro.props;

const baseClass = "link";
const variantClass = linkTypeClassMap[variant] || "";
const alignClass = align ? `link-align-${align}` : "";
const extraClasses = Array.isArray(classNames) ? classNames.join(" ") : (classNames || "");
const classes = [baseClass, variantClass, alignClass, extraClasses].filter(Boolean).join(" ");
---

<a
  href={url}
  target={targetBlank ? "_blank" : "_self"}
  rel={targetBlank ? "noopener noreferrer" : rel}
  class={classes}
  style={style}
>
  {label}
</a>